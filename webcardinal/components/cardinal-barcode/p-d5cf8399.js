let t,n,e=!1;const o="undefined"!=typeof window?window:{},s=o.document||{head:{}},l={t:0,o:"",jmp:t=>t(),raf:t=>requestAnimationFrame(t),ael:(t,n,e,o)=>t.addEventListener(n,e,o),rel:(t,n,e,o)=>t.removeEventListener(n,e,o),ce:(t,n)=>new CustomEvent(t,n)},i=t=>Promise.resolve(t),c={},r=t=>"object"==(t=typeof t)||"function"===t,a=(t,n,...e)=>{let o=null,s=!1,l=!1,i=[];const c=n=>{for(let e=0;e<n.length;e++)o=n[e],Array.isArray(o)?c(o):null!=o&&"boolean"!=typeof o&&((s="function"!=typeof t&&!r(o))&&(o+=""),s&&l?i[i.length-1].l+=o:i.push(s?u(null,o):o),l=s)};if(c(e),n){const t=n.className||n.class;t&&(n.class="object"!=typeof t?t:Object.keys(t).filter((n=>t[n])).join(" "))}const a=u(t,null);return a.i=n,i.length>0&&(a.u=i),a},u=(t,n)=>({t:0,m:t,l:n,h:null,u:null,i:null}),d={},f=(t,n,e,s,i,c)=>{if(e!==s){let a=H(t,n),u=n.toLowerCase();if("class"===n){const n=t.classList,o=m(e),l=m(s);n.remove(...o.filter((t=>t&&!l.includes(t)))),n.add(...l.filter((t=>t&&!o.includes(t))))}else if("style"===n){for(const n in e)s&&null!=s[n]||(n.includes("-")?t.style.removeProperty(n):t.style[n]="");for(const n in s)e&&s[n]===e[n]||(n.includes("-")?t.style.setProperty(n,s[n]):t.style[n]=s[n])}else if(a||"o"!==n[0]||"n"!==n[1]){const o=r(s);if((a||o&&null!==s)&&!i)try{if(t.tagName.includes("-"))t[n]=s;else{let o=null==s?"":s;"list"===n?a=!1:null!=e&&t[n]==o||(t[n]=o)}}catch(t){}null==s||!1===s?!1===s&&""!==t.getAttribute(n)||t.removeAttribute(n):(!a||4&c||i)&&!o&&t.setAttribute(n,s=!0===s?"":s)}else n="-"===n[2]?n.slice(3):H(o,u)?u.slice(2):u[2]+n.slice(3),e&&l.rel(t,n,e,!1),s&&l.ael(t,n,s,!1)}},w=/\s/,m=t=>t?t.split(w):[],h=(t,n,e,o)=>{const s=11===n.h.nodeType&&n.h.host?n.h.host:n.h,l=t&&t.i||c,i=n.i||c;for(o in l)o in i||f(s,o,l[o],void 0,e,n.t);for(o in i)f(s,o,l[o],i[o],e,n.t)},b=(n,e,o)=>{let l,i,c=e.u[o],r=0;if(l=c.h=s.createElement(c.m),h(null,c,!1),null!=t&&l["s-si"]!==t&&l.classList.add(l["s-si"]=t),c.u)for(r=0;r<c.u.length;++r)i=b(n,c,r),i&&l.appendChild(i);return l},p=(t,e,o,s,l,i)=>{let c,r=t;for(r.shadowRoot&&r.tagName===n&&(r=r.shadowRoot);l<=i;++l)s[l]&&(c=b(null,o,l),c&&(s[l].h=c,r.insertBefore(c,e)))},y=(t,n,e,o)=>{for(;n<=e;++n)(o=t[n])&&o.h.remove()},$=(t,n)=>t.m===n.m,g=(t,n)=>{const e=n.h=t.h,o=t.u,s=n.u;"slot"===n.m||h(t,n,!1),null!==o&&null!==s?((t,n,e,o)=>{let s,l=0,i=0,c=n.length-1,r=n[0],a=n[c],u=o.length-1,d=o[0],f=o[u];for(;l<=c&&i<=u;)null==r?r=n[++l]:null==a?a=n[--c]:null==d?d=o[++i]:null==f?f=o[--u]:$(r,d)?(g(r,d),r=n[++l],d=o[++i]):$(a,f)?(g(a,f),a=n[--c],f=o[--u]):$(r,f)?(g(r,f),t.insertBefore(r.h,a.h.nextSibling),r=n[++l],f=o[--u]):$(a,d)?(g(a,d),t.insertBefore(a.h,r.h),a=n[--c],d=o[++i]):(s=b(n&&n[i],e,i),d=o[++i],s&&r.h.parentNode.insertBefore(s,r.h));l>c?p(t,null==o[u+1]?null:o[u+1].h,e,o,i,u):i>u&&y(n,l,c)})(e,o,n,s):null!==s?p(e,null,n,s,0,s.length-1):null!==o&&y(o,0,o.length-1)},E=t=>W(t).p,v=(t,n)=>{n&&!t.$&&n["s-p"]&&n["s-p"].push(new Promise((n=>t.$=n)))},T=(t,n)=>{if(t.t|=16,!(4&t.t))return v(t,t.g),B((()=>C(t,n)));t.t|=512},C=(t,n)=>{const e=t.v;let o;return n&&(o=L(e,"componentWillLoad")),M(o,(()=>P(t,e)))},P=async(t,n)=>{const e=t.p,o=e["s-rc"];O(t,n),o&&(o.map((t=>t())),e["s-rc"]=void 0);{const n=e["s-p"],o=()=>j(t);0===n.length?o():(Promise.all(n).then(o),t.t|=4,n.length=0)}},O=(e,o)=>{try{o=o.render(),e.t&=-17,e.t|=2,((e,o)=>{const s=e.p,l=e.T,i=e.C||u(null,null),c=(t=>t&&t.m===d)(o)?o:a(null,null,o);n=s.tagName,l.P&&(c.i=c.i||{},l.P.map((([t,n])=>c.i[n]=s[t]))),c.m=null,c.t|=4,e.C=c,c.h=i.h=s.shadowRoot||s,t=s["s-sc"],g(i,c)})(e,o)}catch(t){V(t,e.p)}return null},j=t=>{const n=t.p,e=t.v,o=t.g;L(e,"componentDidRender"),64&t.t||(t.t|=64,R(n),L(e,"componentDidLoad"),t.O(n),o||k()),t.j(n),t.$&&(t.$(),t.$=void 0),512&t.t&&G((()=>T(t,!1))),t.t&=-517},k=()=>{R(s.documentElement),G((()=>(t=>{const n=l.ce("appload",{detail:{namespace:"webcardinal"}});return t.dispatchEvent(n),n})(o)))},L=(t,n,e)=>{if(t&&t[n])try{return t[n](e)}catch(t){V(t)}},M=(t,n)=>t&&t.then?t.then(n):n(),R=t=>t.classList.add("hydrated"),x=(t,n,e)=>{if(n.k){t.watchers&&(n.L=t.watchers);const o=Object.entries(n.k),s=t.prototype;if(o.map((([t,[o]])=>{31&o||2&e&&32&o?Object.defineProperty(s,t,{get(){return((t,n)=>W(this).M.get(n))(0,t)},set(e){((t,n,e,o)=>{const s=W(t),l=s.p,i=s.M.get(n),c=s.t,a=s.v;if(e=((t,n)=>null==t||r(t)?t:4&n?"false"!==t&&(""===t||!!t):1&n?t+"":t)(e,o.k[n][0]),!(8&c&&void 0!==i||e===i)&&(s.M.set(n,e),a)){if(o.L&&128&c){const t=o.L[n];t&&t.map((t=>{try{a[t](e,i,n)}catch(t){V(t,l)}}))}2==(18&c)&&T(s,!1)}})(this,t,e,n)},configurable:!0,enumerable:!0}):1&e&&64&o&&Object.defineProperty(s,t,{value(...n){const e=W(this);return e.R.then((()=>e.v[t](...n)))}})})),1&e){const e=new Map;s.attributeChangedCallback=function(t,n,o){l.jmp((()=>{const n=e.get(t);if(this.hasOwnProperty(n))o=this[n],delete this[n];else if(s.hasOwnProperty(n)&&"number"==typeof this[n]&&this[n]==o)return;this[n]=(null!==o||"boolean"!=typeof this[n])&&o}))},t.observedAttributes=o.filter((([t,n])=>15&n[0])).map((([t,o])=>{const s=o[1]||t;return e.set(s,t),512&o[0]&&n.P.push([t,s]),s}))}}return t},D=(t,n={})=>{const e=[],i=n.exclude||[],c=o.customElements,r=s.head,a=r.querySelector("meta[charset]"),u=s.createElement("style"),d=[];let f,w=!0;Object.assign(l,n),l.o=new URL(n.resourcesUrl||"./",s.baseURI).href,t.map((t=>{t[1].map((n=>{const o={t:n[0],D:n[1],k:n[2],S:n[3]};o.k=n[2],o.P=[],o.L={};const s=o.D,r=class extends HTMLElement{constructor(t){super(t),A(t=this,o),1&o.t&&t.attachShadow({mode:"open"})}connectedCallback(){f&&(clearTimeout(f),f=null),w?d.push(this):l.jmp((()=>(t=>{if(0==(1&l.t)){const n=W(t),e=n.T,o=()=>{};if(!(1&n.t)){n.t|=1;{let e=t;for(;e=e.parentNode||e.host;)if(e["s-p"]){v(n,n.g=e);break}}e.k&&Object.entries(e.k).map((([n,[e]])=>{if(31&e&&t.hasOwnProperty(n)){const e=t[n];delete t[n],t[n]=e}})),(async(t,n,e,o,s)=>{if(0==(32&n.t)){if(n.t|=32,(s=I(e)).then){const t=()=>{};s=await s,t()}s.isProxied||(e.L=s.watchers,x(s,e,2),s.isProxied=!0);const t=()=>{};n.t|=8;try{new s(n)}catch(t){V(t)}n.t&=-9,n.t|=128,t()}const l=n.g,i=()=>T(n,!0);l&&l["s-rc"]?l["s-rc"].push(i):i()})(0,n,e)}o()}})(this)))}disconnectedCallback(){l.jmp((()=>(()=>{0==(1&l.t)&&L(W(this).v,"disconnectedCallback")})()))}componentOnReady(){return W(this).W}};o._=t[0],i.includes(s)||c.get(s)||(e.push(s),c.define(s,x(r,o,1)))}))})),u.innerHTML=e+"{visibility:hidden}.hydrated{visibility:inherit}",u.setAttribute("data-styles",""),r.insertBefore(u,a?a.nextSibling:r.firstChild),w=!1,d.length?d.map((t=>t.connectedCallback())):l.jmp((()=>f=setTimeout(k,30)))},S=new WeakMap,W=t=>S.get(t),_=(t,n)=>S.set(n.v=t,n),A=(t,n)=>{const e={t:0,p:t,T:n,M:new Map};return e.R=new Promise((t=>e.j=t)),e.W=new Promise((t=>e.O=t)),t["s-p"]=[],t["s-rc"]=[],S.set(t,e)},H=(t,n)=>n in t,V=(t,n)=>(0,console.error)(t,n),q=new Map,I=t=>{const n=t.D.replace(/-/g,"_"),e=t._,o=q.get(e);return o?o[n]:import(`./${e}.entry.js`).then((t=>(q.set(e,t),t[n])),V)},N=[],U=[],Y=(t,n)=>o=>{t.push(o),e||(e=!0,n&&4&l.t?G(F):l.raf(F))},z=t=>{for(let n=0;n<t.length;n++)try{t[n](performance.now())}catch(t){V(t)}t.length=0},F=()=>{z(N),z(U),(e=N.length>0)&&l.raf(F)},G=t=>i().then(t),B=Y(U,!0);function J(t,n,e=!1,o=null){const s=new CustomEvent(t,n);e&&(o?o.dispatchEvent(s):document.dispatchEvent(s))}function K(t){return t&&"string"==typeof t&&0!==t.length?t.split("").map((t=>t===t.toLowerCase()?t:"-"+t.toLowerCase())).join(""):""}function Q(t){if("string"!=typeof t)throw Error("Invalid model chain");return t.split("@").join("")}function X(t){if("boolean"==typeof t)return t;if("string"==typeof t)switch(t.toLowerCase().trim()){case"true":case"1":return!0;case"false":case"0":case null:return!1;default:return!!t}return!!t}function Z(t){return t.replace(/-([a-z])/g,(function(t){return t[1].toUpperCase()}))}function tt(t,n){const e=document.createElement("style");e.innerHTML=n,t.appendChild(e)}window.cardinal=window.cardinal||{},window.cardinal.oldCustomTheme=window.cardinal.oldCustomTheme||{};const{oldCustomTheme:nt}=window.cardinal;nt.dependencies=nt.dependencies||{},nt.imports=nt.imports||{},nt.appTheme=nt.appTheme||null;const{dependencies:et,imports:ot}=nt,st=/@import.*?["']([^"']+)["'].*?;/g;function lt(t){return new Promise(((n,e)=>{fetch(t).then((t=>{if(t.ok)return n(t.text());e({url:t.url,status:t.status,statusText:t.statusText})}))}))}function it(t,n){return!!n&&(n.shadowRoot?t.parentNode===n.shadowRoot.host:it(n,n.parentElement))}function ct(){let t=t=>{let n={};t.addEventListener("styleExists",(e=>{e.stopImmediatePropagation(),e.preventDefault();let o=e.detail.componentTag;(0,e.detail.callback)(void 0,n.hasOwnProperty(o),t),n[o]||(n[o]=!0)})),t.addEventListener("componentWasRemoved",(t=>{let e=t.detail.componentTag;n[e]&&delete n[e]}))};return t(document.querySelector("body")),n=>{const{componentWillLoad:e,disconnectedCallback:o}=n;n.componentWillLoad=function(){const n=E(this);if(n&&n.isConnected){let o=o=>{let s="";window&&(window.basePath?s=window.basePath:window.WebCardinal&&window.WebCardinal.basePath&&(s=window.WebCardinal.basePath));let l=n.tagName.toLowerCase(),i=t=>new Promise((n=>{let i=s+"/themes/"+o+"/components/"+l+"/"+l+".css";et[i]||(et[i]=new Promise(((t,n)=>{lt(i).then((n=>{t(n)})).catch(n)}))),et[i].then((n=>{(function(t,n){return ot[t]||(ot[t]=new Promise(((t,e)=>{st.exec(n)?n.replace(st,((o,s)=>{et[s]||(et[s]=lt(s)),et[s].then((e=>{t(n.replace(o,e))})).catch(e)})):t(n)}))),ot[t]})(i,n).then((n=>{let e=document.createElement("style");e.innerHTML=n,t.append(e)}))})).catch((t=>{console.log(`Request on resource ${t.url} ended with status: ${t.status} (${t.statusText})`)})).finally((()=>{n(e&&e.call(this))}))}));return n.shadowRoot?(t(n),i(n.shadowRoot)):new Promise(n.isConnected?t=>{let o=it(n,n.parentElement);n.isSlotted=o;let s=new CustomEvent("styleExists",{bubbles:!0,cancelable:!0,composed:!0,detail:{callback:(n,s,l)=>{n?console.log(n):s?t(e&&e.call(this)):(o||(l=l.shadowRoot),i(l).then((()=>{t()})))},componentTag:o?"SLOTTED:"+l:l}});n.dispatchEvent(s)}:t=>{t(e&&e.call(this))})};return nt.appTheme?o(nt.appTheme):new Promise((t=>{let e=new CustomEvent("getThemeConfig",{bubbles:!0,cancelable:!0,composed:!0,detail:(n,e)=>{if(n)return console.log(n);nt.appTheme=e,o(nt.appTheme).then((()=>{t()}))}});n.dispatchEvent(e)}))}return e&&e.call(this)},n.disconnectedCallback=function(){const t=E(this);let n=t.tagName.toLowerCase();t.isSlotted&&(n="SLOTTED:"+n);let e=new CustomEvent("componentWasRemoved",{bubbles:!0,cancelable:!0,composed:!0,detail:{componentTag:n}});t.dispatchEvent(e),o&&o.call(this)}}}window.cardinal=window.cardinal||{},window.cardinal.customTheme=window.cardinal.customTheme||{THEME:void 0,IMPORTS:{},EVENTS:{GET_THEME:"getThemeConfig",ADD_STYLE:"CustomTheme:add-style",REMOVE_STYLE:"CustomTheme:remove-style"}};const rt=window.cardinal.customTheme;async function at(t){let n="";window&&(window.basePath?n=window.basePath:window.WebCardinal&&window.WebCardinal.basePath&&(n=window.WebCardinal.basePath));const e=t.tagName.toLowerCase(),o=t.mode||t.getAttribute("mode")||"default",s=`${n}/themes/${rt.THEME}/components/${e}/${e+("default"!==o?"."+o:"")+".css"}`;if(!rt.IMPORTS[s]){const[t,n]=await async function(t){try{const n=await function(t,n=null){let e=window.$$;return e&&e.SSAPP_CONTEXT&&e.SSAPP_CONTEXT.BASE_URL&&e.SSAPP_CONTEXT.SEED&&0!==t.indexOf(e.SSAPP_CONTEXT.BASE_URL)&&0!==t.indexOf("data:image")&&(t=`${e.SSAPP_CONTEXT.BASE_URL}${0===t.indexOf("/")?t.substr(1):t}`),fetch(t,n)}(t);return[!0,await n.text()]}catch(t){return console.log(t),[!1]}}(s);if(!t)return;rt.IMPORTS[s]=n}const l=rt.IMPORTS[s];t.shadowRoot?(function(t){const n=t.host,e={true:{},false:{}};n.addEventListener(rt.EVENTS.ADD_STYLE,(o=>{o.preventDefault(),o.stopImmediatePropagation();const{data:{tag:s,slotted:l},callback:i}=o.detail;e[l][s]||(i(void 0,l?{target:n}:{target:t}),e[l][s]=!0)})),n.addEventListener(rt.EVENTS.REMOVE_STYLE,(t=>{t.preventDefault(),t.stopImmediatePropagation();const{data:{tag:n,slotted:o}}=t.detail;e[o][n]=!1}))}(t.shadowRoot),tt(t.shadowRoot,l)):(t.isSlotted=function(t){for(;t.parentElement;){if(t.parentElement.shadowRoot)return t.parentElement.shadowRoot.host===t.parentNode;t=t.parentElement}return!1}(t),t.dispatchEvent(new CustomEvent(rt.EVENTS.ADD_STYLE,{bubbles:!0,cancelable:!0,composed:!0,detail:{data:{tag:e,slotted:t.isSlotted},callback:async(t,n)=>{if(t)return console.log(t);const{target:e}=n;tt(e,l)}}})))}function ut(){return t=>{const{componentWillLoad:n,disconnectedCallback:e}=t;t.componentWillLoad=async function(){const t=E(this);return(t||t.isConnected)&&(rt.THEME?await at(t):await async function(t,n){t.dispatchEvent(new CustomEvent(rt.EVENTS.GET_THEME,{bubbles:!0,cancelable:!0,composed:!0,detail:async(e,o)=>{if(e)return console.log(e);rt.THEME=o,await n(t)}}))}(t,at)),n&&n.call(this)},t.disconnectedCallback=async function(){const t=E(this);return t.dispatchEvent(new CustomEvent(rt.EVENTS.REMOVE_STYLE,{bubbles:!0,cancelable:!0,composed:!0,detail:{data:{tag:t.tagName.toLowerCase(),slotted:!!t.isSlotted}}})),e&&e.call(this)}}}window.cardinal=window.cardinal||{},window.cardinal.controllers=window.cardinal.controllers||{},window.cardinal.pendingControllerRequests=window.cardinal.pendingControllerRequests||{};export{ct as C,ut as a,D as b,J as c,Z as d,Q as e,E as g,a as h,K as n,i as p,_ as r,X as s}